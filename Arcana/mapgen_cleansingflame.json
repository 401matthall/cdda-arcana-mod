[
  {
    "id": "cleansing_flame_books",
    "type": "item_group",
    "items": [
      [ "essay_book", 6 ],
      [ "poetry_book", 6 ],
      [ "philosophy_book", 2 ],
      [ "holybook_bible1", 4 ],
      [ "holybook_bible2", 3 ],
      [ "holybook_quran", 3 ],
      [ "holybook_hadith", 3 ],
      [ "holybook_talmud", 2 ],
      [ "holybook_tanakh", 2 ],
      [ "holybook_vedas", 3 ],
      [ "holybook_upanishads", 3 ],
      [ "holybook_tripitaka", 3 ],
      [ "holybook_sutras", 3 ],
      [ "holybook_granth", 2 ],
      [ "holybook_mormon", 1 ],
      [ "holybook_kojiki", 1 ],
      [ "book_hexenhammer", 10 ],
      [ "book_scrollcraft", 3 ],
      [ "book_potioncraft", 2 ]
    ]
  },
  {
    "id": "cleansing_flame_gear",
    "type": "item_group",
    "items": [
      [ "warhammer", 15 ],
      [ "mace", 10 ],
      [ "morningstar", 10 ],
      [ "broadsword", 5 ],
      [ "zweihander", 5 ],
      [ "crossbow", 15 ],
      [ "bolt_steel", 15 ],
      [ "helmet_barbute", 5 ],
      [ "helmet_plate", 5 ],
      [ "chainmail_suit", 10 ],
      [ "armor_plate", 5 ],
      [ "armor_lightplate", 5 ],
      [ "boots_plate", 5 ],
      [ "gloves_plate", 5 ],
      [ "holy_symbol", 25 ]
    ]
  },
  {
    "id": "cleansing_flame_gear_magic",
    "type": "item_group",
    "items": [
      [ "sun_sword", 5 ],
      [ "ethereal_crossbow", 5 ],
      [ "gilded_aegis", 5 ],
      [ "somen_clairvoyance", 5 ],
      [ "hexenhammer", 10 ]
    ]
  },
  {
    "id": "cleansing_flame_gear_consumables",
    "type": "item_group",
    "items": [
      [ "strength_potion", 10 ],
      [ "healing_potion", 10 ],
      [ "scroll_sun", 5 ],
      [ "scroll_moon", 5 ],
      [ "scroll_artiface", 5 ],
      { "item": "essence_dull", "prob": 30, "count-min": 3, "count-max": 8},
    ]
  },
  {
    "id": "cleansing_flame_crafting",
    "type": "item_group",
    "items": [
      [ "gold_small", 1 ],
      [ "gold_small", 10 ],
      [ "silver_small", 2 ],
      [ "silver_small", 20 ],
      [ "scrap", 15 ],
      [ "copper", 15 ]
    ]
  },
  {
    "id": "cleansing_flame_casualties",
    "type": "item_group",
    "subtype": "collection",
    "entries": [
      { "group": "underwear", "damage": [ 1, 4 ] },
      { "group": "shirts", "damage": [ 1, 4 ] },
      { "group": "pants", "damage": [ 1, 4 ] },
      { "group": "shoes", "damage": [ 1, 4 ] },
      { "group": "cleansing_flame_gear", "prob": 10, "damage": [ 1, 4 ] },
      { "group": "cleansing_flame_gear_magic", "prob": 25 },
      { "group": "cleansing_flame_gear_consumables", "prob": 15 },
      { "item": "corpse" }
    ]
  },
  {
    "id": "add_apprentice",
    "type": "item_group",
    "subtype": "collection",
    "entries": [ { "item": "book_magicfordummies" } ]
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "curious_structure" ],
    "weight": 300,
    "object": {
      "fill_ter": "t_floor",
      "rows": [
        "                        ",
        "         |-----|        ",
        "   |-----|_____|-----|  ",
        "   |nnfsn|_____|T_|tt|  ",
        "   |____o|__>__|__|__|  ",
        "   |____c|_____|-+|+-|  ",
        "   |__v_c|_____|s____|  ",
        "  ||+-------X-------+|| ",
        "  |....._________.....| ",
        "  3...C._u__c__u_.C...2 ",
        "  3....._________.....2 ",
        "  |........,,,........| ",
        "  |.bbbbbbb,,,bbbbbbb.| ",
        "  2........,,,........3 ",
        "  2.bbbbbbb,,,bbbbbbb.3 ",
        "  |........,,,........| ",
        "  ||-+-+-|++-++|-+-+-|| ",
        "   |B.B.B|,,.,,|B.B.B|  ",
        "   |d...d|,,.,,|d...d|  ",
        "   |B.B.B|,,.,,|B.B.B|  ",
        "   |d...d|,,.,,|d...d|  ",
        "   |B.B.B|++-++|B.B.B|  ",
        "   |-111-|     |-111-|  ",
        "                        "
      ],
      "set": [
        { "point": "trap", "id": "tr_brazier", "x": 9, "y": 9 },
        { "point": "trap", "id": "tr_brazier", "x": 15, "y": 9 }
      ],
      "mapping": {
        "B": {
          "furniture": "f_bed",
          "items": [ { "item": "bed", "chance": 60 } ]
        },
        "d": {
          "furniture": "f_dresser",
          "items": {
            "item": "dresser",
            "chance": 40
          }
        }
      },
      "terrain": {
        " ": [ "t_grass", "t_grass", "t_grass", "t_dirt" ],
        "+": "t_door_c",
        ",": "t_carpet_red",
        "-": "t_wall",
        ".": "t_floor",
        "1": "t_window_stained_red",
        "2": "t_window_stained_green",
        "3": "t_window_stained_blue",
        ">": "t_stairs_down",
        "B": "t_floor",
        "C": "t_column",
        "T": "t_rock_floor",
        "X": "t_door_locked_interior",
        "_": "t_rock_floor",
        "b": "t_floor",
        "c": "t_rock_floor",
        "f": "t_rock_floor",
        "n": "t_rock_floor",
        "o": "t_rock_floor",
        "s": "t_rock_floor",
        "t": "t_floor",
        "u": "t_rock_floor",
        "v": "t_rock_floor",
        "|": "t_wall"
      },
      "furniture": {
        "B": "f_bed",
        "b": "f_bench",
        "c": "f_counter",
        "d": "f_dresser",
        "f": "f_fridge",
        "n": "f_cupboard",
        "o": "f_oven",
        "s": "f_sink",
        "t": "f_bathtub",
        "v": "f_woodstove"
      },
      "toilets": {
        "T": {}
      },
      "place_loot": [
        { "item": "holy_symbol", "x": 12, "y": 9, "chance": 100 },
        { "item": "note_flame", "x": [ 4, 20 ], "y": [ 9, 14 ], "chance": 100 },
        { "group": "fridge", "x": 6, "y": 3, "chance": 80, "repeat": [ 1, 4 ] },
        { "group": "oven", "x": 8, "y": 4, "chance": 40, "repeat": [ 1, 2 ] },
        { "group": "cannedfood", "x": [ 4, 5 ], "y": 3, "chance": 80, "repeat": [ 1, 3 ] },
        { "group": "cannedfood", "x": 8, "y": 3, "chance": 80, "repeat": [ 1, 2 ] }
      ],
      "place_monsters": [
        { "monster": "GROUP_ZOMBIE", "x": [ 3, 21 ], "y": [ 8, 21 ], "density": 0.15 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "curious_structure_b" ],
    "weight": 300,
    "object": {
      "fill_ter": "t_dirtfloor",
      "rows": [
        "########################",
        "##......###...###......#",
        "##B.B.B.##.....##.htth.#",
        "##B.B.B.#.......#.htth.#",
        "##B.B.B.+...<...+.htth.#",
        "##B.B.B.#.......#.htth.#",
        "##B.B.B.##.....##.htth.#",
        "##......###...###......#",
        "############+###########",
        "###...................##",
        "##..CCCCCCCCCCCCCCCCC..#",
        "##.CC...............CC.#",
        "##.C.................C.#",
        "##.C.................C.#",
        "##.C.................C.#",
        "##.C.................C.#",
        "##.CC.......S.......CC.#",
        "##..C..CCC.....CCC..C..#",
        "###......###X###......##",
        "#####++#####.#####++####",
        "##rrr..rr##...##rr..rrr#",
        "##.......##.T.##.......#",
        "##rrrrrrr##...##rrrrrrr#",
        "########################"
      ],
      "terrain": {
        "#": "t_rock",
        "+": "t_door_c",
        ".": "t_rock_floor",
        "<": "t_stairs_up",
        "B": "t_rock_floor",
        "C": "t_column",
        "S": "t_rock_floor",
        "T": "t_stairs_down",
        "X": "t_door_boarded",
        "h": "t_rock_floor",
        "r": "t_rock_floor",
        "t": "t_rock_floor"
      },
      "furniture": {
        "B": "f_bookcase",
        "S": "f_statue",
        "T": "f_blade_upright",
        "h": "f_chair",
        "r": "f_rack",
        "t": "f_desk"
      },
      "place_loot": [
        { "group": "cleansing_flame_crafting", "x": [ 2, 4 ], "y": 20, "chance": 20, "repeat": [ 2, 4 ] },
        { "group": "cleansing_flame_crafting", "x": [ 20, 22 ], "y": 20, "chance": 20, "repeat": [ 2, 4 ] },
        { "group": "cleansing_flame_gear_consumables", "x": [ 7, 8 ], "y": 20, "chance": 40, "repeat": [ 1, 3 ] },
        { "group": "cleansing_flame_gear_consumables", "x": [ 16, 17 ], "y": 20, "chance": 40, "repeat": [ 1, 3 ] },
        { "group": "cleansing_flame_gear", "x": [ 2, 8 ], "y": 22, "chance": 20, "repeat": [ 3, 8 ] },
        { "group": "cleansing_flame_gear", "x": [ 16, 22 ], "y": 22, "chance": 20, "repeat": [ 3, 8 ] },
        { "group": "cleansing_flame_gear_magic", "x": [ 2, 8 ], "y": 22, "chance": 20, "repeat": [ 3, 8 ] },
        { "group": "cleansing_flame_gear_magic", "x": [ 16, 22 ], "y": 22, "chance": 20, "repeat": [ 3, 8 ] },
        { "group": "cleansing_flame_casualties", "x": [ 5, 19 ], "y": [ 11, 15 ], "repeat": [ 1, 7 ] },
        { "group": "add_apprentice", "x": [ 19, 20 ], "y": [ 2, 6 ], "chance": 50, "repeat": [ 1, 3 ] },
        { "item": "arcanemap", "x": [ 19, 20 ], "y": [ 2, 6 ], "chance": 50 },
        { "group": "cleansing_flame_books", "x": 2, "y": [ 2, 6 ], "chance": 30, "repeat": [ 1, 6 ] },
        { "group": "cleansing_flame_books", "x": 4, "y": [ 2, 6 ], "chance": 30, "repeat": [ 1, 6 ] },
        { "group": "cleansing_flame_books", "x": 6, "y": [ 2, 6 ], "chance": 30, "repeat": [ 1, 6 ] }
      ],
      "place_monsters": [
        { "monster": "GROUP_NETHER", "x": [ 2, 22 ], "y": [ 9, 18 ], "density": 0.15 }
      ]
    }
  },
  {
    "type": "mapgen",
    "method": "json",
    "om_terrain": [ "curious_structure_b2" ],
    "weight": 300,
    "object": {
      "fill_ter": "t_dirtfloor",
      "rows": [
        "########################",
        "##__...___________...__#",
        "##_..O..__#####__..O.._#",
        "##__...__#.....#__...__#",
        "###______#.....#______##",
        "###.....__#.#.#__.....##",
        "##......._#...#_.......#",
        "##.......__.#.__.......#",
        "##.....................#",
        "##......##.....##......#",
        "##.....................#",
        "###.........O.........##",
        "##.......#.....#.......#",
        "##.....................#",
        "##.....#.........#.....#",
        "##.....................#",
        "##..........#..........#",
        "##......#########......#",
        "##_....##.......##...._#",
        "##___..#..##.##..#..___#",
        "##_.__.#.##...##.#.__._#",
        "##.O._.#.#..<..#.#._.O.#",
        "##_.__...##...##...__._#",
        "########################"
      ],
      "set": [
        { "point": "trap", "id": "tr_portal", "x": 5, "y": 2 },
        { "point": "trap", "id": "tr_portal", "x": 19, "y": 2 },
        { "point": "trap", "id": "tr_portal", "x": 3, "y": 21 },
        { "point": "trap", "id": "tr_portal", "x": 21, "y": 21 },
        { "point": "trap", "id": "tr_portal", "x": 12, "y": 11 }
      ],
      "terrain": {
        "#": "t_rock",
        ".": "t_rock_floor",
        "<": "t_stairs_up",
        "O": "t_rock_floor",
        "_": "t_lava"
      },
      "furniture": {
        "B": "f_bookcase",
        "h": "f_chair",
        "r": "f_rack",
        "t": "f_desk"
      },
      "place_loot": [
        { "item": "hand_of_armok", "x": 12, "y": 4, "chance": 100 }
      ],
      "place_monsters": [
        { "monster": "GROUP_NETHER_LAVA", "x": [ 2, 22 ], "y": [ 5, 17 ], "density": 0.25 }
      ],
      "place_monster": [
        { "monster": "mon_spirit_of_fire", "x": 12, "y": 4 }
      ]
    }
  }
]
